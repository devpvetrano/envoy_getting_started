{"addrs":[":8181"],"diagnostic-addrs":[],"insecure_addr":"","level":"info","msg":"Initializing server.","time":"2020-08-19T13:38:42Z"}
{"level":"info","msg":"Starting decision logger.","plugin":"decision_logs","time":"2020-08-19T13:38:42Z"}
{"addr":":9191","dry-run":false,"enable-reflection":false,"level":"info","msg":"Starting gRPC server.","path":"envoy/authz/allow","query":"","time":"2020-08-19T13:38:42Z"}
{"headers":{"Content-Type":["application/json"],"User-Agent":["Open Policy Agent/0.23.0-envoy (linux, amd64)"]},"level":"debug","method":"POST","msg":"Sending request.","time":"2020-08-19T13:38:42Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"level":"debug","msg":"Server initialized.","time":"2020-08-19T13:38:42Z"}
{"headers":{"Connection":["keep-alive"],"Content-Length":["194"],"Content-Type":["application/json"],"Date":["Wed, 19 Aug 2020 13:38:42 GMT"]},"level":"debug","method":"POST","msg":"Received response.","status":"200 OK","time":"2020-08-19T13:38:42Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"current_version":"0.23.0-envoy","download_opa":"https://openpolicyagent.org/downloads/v0.23.0/opa_linux_amd64","latest_version":"0.23.0","level":"info","msg":"OPA is out of date.","release_notes":"https://github.com/open-policy-agent/opa/releases/tag/v0.23.0","time":"2020-08-19T13:38:42Z"}
{"dry-run":false,"input":[[{"type":"string","value":"truncated_body"},{"type":"boolean","value":false}],[{"type":"string","value":"attributes"},{"type":"object","value":[[{"type":"string","value":"source"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"string","value":"192.168.160.1"}],[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":36040}]]}]]}]]}]]}]]}],[{"type":"string","value":"destination"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"string","value":"192.168.160.3"}],[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":80}]]}]]}]]}]]}]]}],[{"type":"string","value":"request"},{"type":"object","value":[[{"type":"string","value":"time"},{"type":"object","value":[[{"type":"string","value":"seconds"},{"type":"number","value":1597844325}],[{"type":"string","value":"nanos"},{"type":"number","value":472599000}]]}],[{"type":"string","value":"http"},{"type":"object","value":[[{"type":"string","value":"host"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":"protocol"},{"type":"string","value":"HTTP/1.1"}],[{"type":"string","value":"id"},{"type":"string","value":"12097654132017511239"}],[{"type":"string","value":"method"},{"type":"string","value":"GET"}],[{"type":"string","value":"headers"},{"type":"object","value":[[{"type":"string","value":":path"},{"type":"string","value":"/anything"}],[{"type":"string","value":"accept"},{"type":"string","value":"*/*"}],[{"type":"string","value":"user-agent"},{"type":"string","value":"curl/7.61.0"}],[{"type":"string","value":"x-forwarded-proto"},{"type":"string","value":"http"}],[{"type":"string","value":"x-request-id"},{"type":"string","value":"d71eeea5-06f0-44ea-bb3b-31da2d5d2a1e"}],[{"type":"string","value":":authority"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":":method"},{"type":"string","value":"GET"}]]}],[{"type":"string","value":"path"},{"type":"string","value":"/anything"}]]}]]}],[{"type":"string","value":"metadata_context"},{"type":"object","value":[]}]]}],[{"type":"string","value":"parsed_path"},{"type":"array","value":[{"type":"string","value":"anything"}]}],[{"type":"string","value":"parsed_query"},{"type":"object","value":[]}],[{"type":"string","value":"parsed_body"},{"type":"null","value":{}}]],"level":"debug","msg":"Executing policy query.","query":"data.envoy.authz.allow","time":"2020-08-19T13:38:45Z","txn":3}
{"decision":{"allowed":true,"body":"debug body","headers":{"set-by":"Fall through","validation":"unknown failure"},"http_status":200},"dry-run":false,"err":null,"level":"debug","metrics":{"timer_rego_query_compile_ns":143500,"timer_rego_query_eval_ns":140800,"timer_server_handler_ns":0},"msg":"Returning policy decision.","query":"data.envoy.authz.allow","time":"2020-08-19T13:38:45Z","total_decision_time":1730200,"txn":3}
{"decision_id":"06946756-e766-4e23-8e36-8d579d866162","input":{"attributes":{"destination":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":80},"address":"192.168.160.3"}}}},"metadata_context":{},"request":{"http":{"headers":{":authority":"localhost:8080",":method":"GET",":path":"/anything","accept":"*/*","user-agent":"curl/7.61.0","x-forwarded-proto":"http","x-request-id":"d71eeea5-06f0-44ea-bb3b-31da2d5d2a1e"},"host":"localhost:8080","id":"12097654132017511239","method":"GET","path":"/anything","protocol":"HTTP/1.1"},"time":{"nanos":472599000,"seconds":1597844325}},"source":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":36040},"address":"192.168.160.1"}}}}},"parsed_body":null,"parsed_path":["anything"],"parsed_query":{},"truncated_body":false},"labels":{"id":"bf6a2463-49a1-44f9-9fc0-94855ff480fc","version":"0.23.0-envoy"},"level":"info","metrics":{"timer_rego_query_compile_ns":143500,"timer_rego_query_eval_ns":140800,"timer_server_handler_ns":1771600},"msg":"Decision Log","path":"envoy/authz/allow","requested_by":"","result":{"allowed":true,"body":"debug body","headers":{"set-by":"Fall through","validation":"unknown failure"},"http_status":200},"time":"2020-08-19T13:38:45Z","timestamp":"2020-08-19T13:38:45.4831784Z","type":"openpolicyagent.org/decision_logs"}

{"addrs":[":8181"],"diagnostic-addrs":[],"insecure_addr":"","level":"info","msg":"Initializing server.","time":"2020-08-19T12:30:05Z"}
{"level":"info","msg":"Starting decision logger.","plugin":"decision_logs","time":"2020-08-19T12:30:05Z"}
{"addr":":9191","dry-run":false,"enable-reflection":false,"level":"info","msg":"Starting gRPC server.","path":"envoy/authz/allow","query":"","time":"2020-08-19T12:30:05Z"}
{"headers":{"Content-Type":["application/json"],"User-Agent":["Open Policy Agent/0.23.0-envoy (linux, amd64)"]},"level":"debug","method":"POST","msg":"Sending request.","time":"2020-08-19T12:30:05Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"level":"debug","msg":"Server initialized.","time":"2020-08-19T12:30:05Z"}
{"headers":{"Connection":["keep-alive"],"Content-Length":["194"],"Content-Type":["application/json"],"Date":["Wed, 19 Aug 2020 12:30:06 GMT"]},"level":"debug","method":"POST","msg":"Received response.","status":"200 OK","time":"2020-08-19T12:30:06Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"current_version":"0.23.0-envoy","download_opa":"https://openpolicyagent.org/downloads/v0.23.0/opa_linux_amd64","latest_version":"0.23.0","level":"info","msg":"OPA is out of date.","release_notes":"https://github.com/open-policy-agent/opa/releases/tag/v0.23.0","time":"2020-08-19T12:30:06Z"}
{"dry-run":false,"input":[[{"type":"string","value":"attributes"},{"type":"object","value":[[{"type":"string","value":"source"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"string","value":"192.168.112.1"}],[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":60958}]]}]]}]]}]]}]]}],[{"type":"string","value":"destination"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"string","value":"192.168.112.3"}],[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":80}]]}]]}]]}]]}]]}],[{"type":"string","value":"request"},{"type":"object","value":[[{"type":"string","value":"time"},{"type":"object","value":[[{"type":"string","value":"seconds"},{"type":"number","value":1597840224}],[{"type":"string","value":"nanos"},{"type":"number","value":30130000}]]}],[{"type":"string","value":"http"},{"type":"object","value":[[{"type":"string","value":"id"},{"type":"string","value":"10235319822838041326"}],[{"type":"string","value":"method"},{"type":"string","value":"GET"}],[{"type":"string","value":"headers"},{"type":"object","value":[[{"type":"string","value":":authority"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":":method"},{"type":"string","value":"GET"}],[{"type":"string","value":":path"},{"type":"string","value":"/anything"}],[{"type":"string","value":"accept"},{"type":"string","value":"*/*"}],[{"type":"string","value":"user-agent"},{"type":"string","value":"curl/7.61.0"}],[{"type":"string","value":"x-forwarded-proto"},{"type":"string","value":"http"}],[{"type":"string","value":"x-request-id"},{"type":"string","value":"bccf9f7f-2263-43b9-beae-cc16bbbc21f7"}]]}],[{"type":"string","value":"path"},{"type":"string","value":"/anything"}],[{"type":"string","value":"host"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":"protocol"},{"type":"string","value":"HTTP/1.1"}]]}]]}],[{"type":"string","value":"metadata_context"},{"type":"object","value":[]}]]}],[{"type":"string","value":"parsed_path"},{"type":"array","value":[{"type":"string","value":"anything"}]}],[{"type":"string","value":"parsed_query"},{"type":"object","value":[]}],[{"type":"string","value":"parsed_body"},{"type":"null","value":{}}],[{"type":"string","value":"truncated_body"},{"type":"boolean","value":false}]],"level":"debug","msg":"Executing policy query.","query":"data.envoy.authz.allow","time":"2020-08-19T12:30:24Z","txn":3}
{"decision":{"allowed":true,"headers":{"X-token-validation":"unknown failure","set-by":"jws check fall through logic"}},"dry-run":false,"err":null,"level":"debug","metrics":{"timer_rego_query_compile_ns":114900,"timer_rego_query_eval_ns":87400,"timer_server_handler_ns":0},"msg":"Returning policy decision.","query":"data.envoy.authz.allow","time":"2020-08-19T12:30:24Z","total_decision_time":2160600,"txn":3}
{"decision_id":"cc2ca77a-138c-490e-b7a3-7bda2b9d3ed5","input":{"attributes":{"destination":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":80},"address":"192.168.112.3"}}}},"metadata_context":{},"request":{"http":{"headers":{":authority":"localhost:8080",":method":"GET",":path":"/anything","accept":"*/*","user-agent":"curl/7.61.0","x-forwarded-proto":"http","x-request-id":"bccf9f7f-2263-43b9-beae-cc16bbbc21f7"},"host":"localhost:8080","id":"10235319822838041326","method":"GET","path":"/anything","protocol":"HTTP/1.1"},"time":{"nanos":30130000,"seconds":1597840224}},"source":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":60958},"address":"192.168.112.1"}}}}},"parsed_body":null,"parsed_path":["anything"],"parsed_query":{},"truncated_body":false},"labels":{"id":"b010f7b8-62b0-448b-ac96-62d3c319e1e2","version":"0.23.0-envoy"},"level":"info","metrics":{"timer_rego_query_compile_ns":114900,"timer_rego_query_eval_ns":87400,"timer_server_handler_ns":2225700},"msg":"Decision Log","path":"envoy/authz/allow","requested_by":"","result":{"allowed":true,"headers":{"X-token-validation":"unknown failure","set-by":"jws check fall through logic"}},"time":"2020-08-19T12:30:24Z","timestamp":"2020-08-19T12:30:24.0374243Z","type":"openpolicyagent.org/decision_logs"}

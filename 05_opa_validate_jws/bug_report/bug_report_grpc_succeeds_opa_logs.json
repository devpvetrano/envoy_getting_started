{"addrs":[":8181"],"diagnostic-addrs":[],"insecure_addr":"","level":"info","msg":"Initializing server.","time":"2020-08-20T13:06:25Z"}
{"level":"info","msg":"Starting decision logger.","plugin":"decision_logs","time":"2020-08-20T13:06:25Z"}
{"addr":":9191","dry-run":false,"enable-reflection":false,"level":"info","msg":"Starting gRPC server.","path":"envoy/authz/allow","query":"","time":"2020-08-20T13:06:25Z"}
{"level":"debug","msg":"Server initialized.","time":"2020-08-20T13:06:25Z"}
{"headers":{"Content-Type":["application/json"],"User-Agent":["Open Policy Agent/0.23.0-envoy (linux, amd64)"]},"level":"debug","method":"POST","msg":"Sending request.","time":"2020-08-20T13:06:25Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"headers":{"Connection":["keep-alive"],"Content-Length":["194"],"Content-Type":["application/json"],"Date":["Thu, 20 Aug 2020 13:06:27 GMT"]},"level":"debug","method":"POST","msg":"Received response.","status":"200 OK","time":"2020-08-20T13:06:26Z","url":"https://telemetry.openpolicyagent.org/v1/version"}
{"current_version":"0.23.0-envoy","download_opa":"https://openpolicyagent.org/downloads/v0.23.0/opa_linux_amd64","latest_version":"0.23.0","level":"info","msg":"OPA is out of date.","release_notes":"https://github.com/open-policy-agent/opa/releases/tag/v0.23.0","time":"2020-08-20T13:06:26Z"}
{"dry-run":false,"input":[[{"type":"string","value":"parsed_query"},{"type":"object","value":[]}],[{"type":"string","value":"parsed_body"},{"type":"null","value":{}}],[{"type":"string","value":"truncated_body"},{"type":"boolean","value":false}],[{"type":"string","value":"attributes"},{"type":"object","value":[[{"type":"string","value":"destination"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":80}]]}],[{"type":"string","value":"address"},{"type":"string","value":"192.168.208.4"}]]}]]}]]}]]}],[{"type":"string","value":"request"},{"type":"object","value":[[{"type":"string","value":"time"},{"type":"object","value":[[{"type":"string","value":"seconds"},{"type":"number","value":1597928829}],[{"type":"string","value":"nanos"},{"type":"number","value":783286000}]]}],[{"type":"string","value":"http"},{"type":"object","value":[[{"type":"string","value":"method"},{"type":"string","value":"GET"}],[{"type":"string","value":"headers"},{"type":"object","value":[[{"type":"string","value":":path"},{"type":"string","value":"/anything"}],[{"type":"string","value":"accept"},{"type":"string","value":"*/*"}],[{"type":"string","value":"user-agent"},{"type":"string","value":"curl/7.61.0"}],[{"type":"string","value":"x-forwarded-proto"},{"type":"string","value":"http"}],[{"type":"string","value":"x-request-id"},{"type":"string","value":"da88b0ea-194f-45fa-af5d-fbfed556ca9d"}],[{"type":"string","value":":authority"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":":method"},{"type":"string","value":"GET"}]]}],[{"type":"string","value":"path"},{"type":"string","value":"/anything"}],[{"type":"string","value":"host"},{"type":"string","value":"localhost:8080"}],[{"type":"string","value":"protocol"},{"type":"string","value":"HTTP/1.1"}],[{"type":"string","value":"id"},{"type":"string","value":"16986969738880717538"}]]}]]}],[{"type":"string","value":"metadata_context"},{"type":"object","value":[]}],[{"type":"string","value":"source"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"object","value":[[{"type":"string","value":"Address"},{"type":"object","value":[[{"type":"string","value":"SocketAddress"},{"type":"object","value":[[{"type":"string","value":"address"},{"type":"string","value":"192.168.208.1"}],[{"type":"string","value":"PortSpecifier"},{"type":"object","value":[[{"type":"string","value":"PortValue"},{"type":"number","value":51284}]]}]]}]]}]]}]]}]]}],[{"type":"string","value":"parsed_path"},{"type":"array","value":[{"type":"string","value":"anything"}]}]],"level":"debug","msg":"Executing policy query.","query":"data.envoy.authz.allow","time":"2020-08-20T13:07:09Z","txn":3}
{"decision":{"allowed":true,"body":"debug body","headers":{"set-by":"Fall through","validation":"unknown failure"},"http_status":200},"dry-run":false,"err":null,"level":"debug","metrics":{"timer_rego_query_compile_ns":90300,"timer_rego_query_eval_ns":60500,"timer_server_handler_ns":0},"msg":"Returning policy decision.","query":"data.envoy.authz.allow","time":"2020-08-20T13:07:09Z","total_decision_time":1192400,"txn":3}
{"decision_id":"d250a881-bb91-4620-9d0f-0772bc6cf512","input":{"attributes":{"destination":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":80},"address":"192.168.208.4"}}}},"metadata_context":{},"request":{"http":{"headers":{":authority":"localhost:8080",":method":"GET",":path":"/anything","accept":"*/*","user-agent":"curl/7.61.0","x-forwarded-proto":"http","x-request-id":"da88b0ea-194f-45fa-af5d-fbfed556ca9d"},"host":"localhost:8080","id":"16986969738880717538","method":"GET","path":"/anything","protocol":"HTTP/1.1"},"time":{"nanos":783286000,"seconds":1597928829}},"source":{"address":{"Address":{"SocketAddress":{"PortSpecifier":{"PortValue":51284},"address":"192.168.208.1"}}}}},"parsed_body":null,"parsed_path":["anything"],"parsed_query":{},"truncated_body":false},"labels":{"id":"4d9555cb-bc09-45c8-bd40-6a3c96657b3d","version":"0.23.0-envoy"},"level":"info","metrics":{"timer_rego_query_compile_ns":90300,"timer_rego_query_eval_ns":60500,"timer_server_handler_ns":1233400},"msg":"Decision Log","path":"envoy/authz/allow","requested_by":"","result":{"allowed":true,"body":"debug body","headers":{"set-by":"Fall through","validation":"unknown failure"},"http_status":200},"time":"2020-08-20T13:07:09Z","timestamp":"2020-08-20T13:07:09.7918046Z","type":"openpolicyagent.org/decision_logs"}
